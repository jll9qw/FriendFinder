<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Reservation Page</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>

  <body>
    <div class="container">
      <div class="jumbotron">
        <h1 class="text-center">
          <span class="fa fa-heart"></span> Friend Firnder
        </h1>
        <hr />
        <h2 class="text-center">Compatibility Quiz</h2>
        <br />
        <div class="text-center">
          <a href="/friends">
            <button class="btn btn-lg btn-primary">
              <span class="fa fa-list-alt"></span> View Friends
            </button>
          </a>
          <a href="/">
            <button class="btn btn-lg btn-default">
              <span class="fa fa-home"></span>
            </button>
          </a>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <!-- Survey Page -->
          <div class="card">
            <div class="card-header">
              Complete the survey
            </div>
            <div class="card-body">
              <form role="form">
                <div class="form-group">
                  <label for="form-name">Name</label>
                  <input type="text" class="form-control" id="form-name" />
                </div>
                <div class="form-group">
                  <label for="form-picture-id">Link to Photo Image (Required)
                </label>
                  <input
                    type="text"
                    class="form-control"
                    id="form-picture-id"
                  />
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q1" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q2" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q3">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q4" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q5" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q6" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q7" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q8" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q9" class = "questions">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Example select</label>
                    <select class="form-control" id="q10">
                      <option>1 (Strongly Disagree)</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5 (Strongly Agree)</option>
                    </select>
                  </div>
                </div>

                
                <button type="submit" class="btn btn-primary submit">
                  Submit
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <footer class="footer">
        <div class="container">
          <p>
            <a href="/api/tables">API Table Link</a> |
            <a href="/api/waitlist">API Wait List</a>
          </p>
        </div>
      </footer>
    </div>

    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
    <script type="text/javascript">
      // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.

      $('.submit').on('click', function(event) {
        event.preventDefault();

        // Captures the form inputs 
        var newFriend = {
          customerName: $('#form-name')
            .val()
            .trim(),
         
          customerPic: $('#form-picture-id')
            .val()
            .trim(),
            score: [
                $("#q1").val(),
					$("#q2").val(),
					$("#q3").val(),
					$("#q4").val(),
					$("#q5").val(),
					$("#q6").val(),
					$("#q7").val(),
					$("#q8").val(),
					$("#q9").val(),
					$("#q10").val()
]
        };

        console.log(newFriend);

        $.ajax({
          url: '/api/friends',
          method: 'POST',
          data: newFriend
        }).then(function(data) {
          // If a table is available... tell user they are booked.
        console.log(newFriend);
        });


          // Clear the form when submitting
          $('#form-name').val('');
          $('#form-picture-id').val('');
          $('.questions').val('');
        });
    
    </script>
  </body>
</html>
